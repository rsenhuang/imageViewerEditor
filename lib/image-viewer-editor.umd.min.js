(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["image-viewer-editor"]=e(require("vue")):t["image-viewer-editor"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(h){if(e[h])return e[h].exports;var s=e[h]={i:h,l:!1,exports:{}};return t[h].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,h){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:h})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(h,s,function(e){return t[e]}.bind(null,s));return h},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"31fc":function(t,e,i){},"6f06":function(t,e){!function(t){var e,i,h,s,c,o,r='<svg><symbol id="icon-jiazai" viewBox="0 0 1024 1024"><path d="M748.5 852.3c9.5 16.1 4.1 37.5-12.4 46.6-16.5 9.5-37.2 3.9-46.6-12.4-10-16.1-4.1-37.1 12-46.6 16.9-9.6 37.5-3.7 47 12.4zM546.7 925c0 18.6-15.5 34.2-34.7 34.2-18.7 0-34.3-15.1-34.3-34.2v-24c0-19.1 15.7-34.2 34.3-34.2 19.1 0 34.7 15.1 34.7 34.2v24z m-211.6-38.5c-9.9 16.9-30.8 22.3-47 12.7-16.7-9.3-22.5-30.3-12.8-46.8l25.6-44.5c9.8-16.4 30.8-22 47.4-12.7 16.3 9.5 22.1 30.7 12.3 46.8l-25.5 44.5z m-164-138.3c-16.7 9.3-38 3.7-47.1-12.7-9.8-16.1-4.3-37.3 12.2-46.8l68.6-39.6c16.4-9 37.7-3.9 47 12.7 9.3 16.1 3.8 37.3-12.8 47l-67.9 39.4zM98.2 546.3C79.1 546.3 64 531 64 512.2c0-19.1 15.1-34.4 34.2-34.4H205c19.1 0 34.3 15.4 34.3 34.2 0 19.1-15.2 34.4-34.3 34.4 0-0.1-106.8-0.1-106.8-0.1z m38.2-211.2c-16.7-9.3-22-30.3-12.2-46.6 9.1-16.6 30.4-22.2 47.1-12.7l116 67.1c16.5 9.3 21.9 30.3 12.8 46.4-9.9 16.7-30.9 22.1-47.1 12.7-0.1 0-116.6-66.9-116.6-66.9z m139-163.6l80.7 139.9c9.9 16.4 30.8 22.2 47.3 12.4 16.5-9.3 21.7-30.5 12.2-46.8l-81-139.6c-9.3-16.1-30.4-22-46.5-12.4-16.7 9.4-22 30.5-12.7 46.5z m202.1-72.3c0-18.5 15.7-34.4 34.3-34.4 19.1 0 34.7 15.4 34.7 34.4v161.2c0 19.1-15.5 34.4-34.7 34.6-18.7 0-34.3-15.1-34.3-34.6V99.2zM689 137.3c9.9-16.6 30.6-22 47.1-12.7 16.7 9.3 22.5 30.3 12.7 46.8l-81 139.9c-9 16.4-30.6 22.2-46.8 12.7-16.5-9.5-21.9-30.7-12.6-47.2L689 137.3z m164.5 138.5l-140.4 80.8c-16.5 9.3-22.1 30.3-12.8 46.8 9.9 16.1 30.9 21.5 47.1 12.4L887.9 335c16.1-9.3 22-30.3 12.2-46.6-9.2-16.5-30.4-22.4-46.6-12.6z m72.2 201.9c19.3 0 34.5 15.4 34.3 34.4 0 18.8-15 34.2-34.3 34.2H764c-18.6 0-34.3-15.4-34.3-34.4 0-18.8 15.7-34.2 34.3-34.2h161.7z"  ></path></symbol><symbol id="icon-jinzhi" viewBox="0 0 1024 1024"><path d="M512 118.25c217.4625 0 393.75 176.2875 393.75 393.75S729.4625 905.75 512 905.75 118.25 729.4625 118.25 512 294.5375 118.25 512 118.25zM178.015625 512c0 184.45429688 149.53007812 333.984375 333.984375 333.984375 81.49306641 0 156.16933594-29.18759766 214.14550781-77.67773438L256.22597656 297.21992188C207.41503906 355.28574219 178.015625 430.20898437 178.015625 512z m333.984375-333.984375c-81.14501953 0-155.53125 28.93798828-213.40107422 77.05722656l469.79824219 470.96279297C816.83369141 668.07617188 845.984375 593.44208984 845.984375 512c0-184.45429688-149.53007812-333.984375-333.984375-333.984375z" fill="#d81e06" ></path></symbol><symbol id="icon-yulan" viewBox="0 0 1024 1024"><path d="M502.36 310.54666667c-115.98 0-210 94.02-210 210s94.02 210 210 210 210-94.02 210-210S618.34 310.54666667 502.36 310.54666667zM502.36 670.54666667c-82.86 0-150-67.14-150-150s67.14-150 150-150 150 67.14 150 150S585.22 670.54666667 502.36 670.54666667zM918.34 415.00666667c-101.58-137.34-250.26-224.16-416.28-224.16S187.42 277.66666667 85.84 415.00666667c-44.88 60.66-44.88 150.78 0 211.38 101.58 137.34 250.26 224.16 416.28 224.16s314.64-86.82 416.28-224.16C963.22 565.78666667 963.22 475.66666667 918.34 415.00666667zM873.22 576.64666667C779.02 712.60666667 643.36 790.66666667 501.04 790.66666667c-142.2 0-277.86-78.06-372.12-213.96-22.44-32.4-22.44-79.44 0-111.84 94.26-136.02 229.92-213.96 372.12-213.96 142.32 0 277.98 78 372.18 213.96C895.66 497.20666667 895.66 544.30666667 873.22 576.64666667z"  ></path></symbol><symbol id="icon-guanbi" viewBox="0 0 1024 1024"><path d="M561.3125 512.1875l244.6875-242.90625 0.09375-0.09375c13.59375-13.59375 13.59375-35.625 0.09375-49.21875-13.59375-13.6875-35.625-13.78125-49.3125-0.1875l-244.6875 242.90625-242.90625-244.6875c-13.59375-13.6875-35.625-13.78125-49.3125-0.1875-13.6875 13.59375-13.78125 35.625-0.1875 49.3125l242.90625 244.6875-244.6875 242.90625-0.09375 0.09375c-13.59375 13.59375-13.59375 35.625-0.09375 49.21875 13.59375 13.6875 35.625 13.78125 49.3125 0.1875l244.6875-242.90625 242.90625 244.6875c13.59375 13.6875 35.625 13.78125 49.3125 0.1875l0.09375-0.09375c13.59375-13.59375 13.59375-35.625 0.09375-49.21875l-242.90625-244.6875z"  ></path></symbol><symbol id="icon-huabi1" viewBox="0 0 1024 1024"><path d="M691.79489493 414.53470507L382.54689493 783.09668587a12.81462827 12.81462827 0 0 1-5.8124192 3.92045653l-93.6423616 31.05158187a12.83413333 12.83413333 0 0 1-16.77409493-14.04342934l14.31649493-97.62133333a12.79512427 12.79512427 0 0 1 2.8672-6.3975616l309.26750507-368.5619808a12.8536384 12.8536384 0 0 1 18.1004192-1.57988587l79.34537067 66.56975254a12.8536384 12.8536384 0 0 1 1.57988586 18.1004192z m102.00990507-121.5731808l-45.17302827 53.8331424a12.8536384 12.8536384 0 0 1-18.11992426 1.59939093l-79.34537174-66.5892576a12.8536384 12.8536384 0 0 1-1.5603808-18.1004192l45.17302934-53.8331424a12.8536384 12.8536384 0 0 1 18.10041813-1.59939093l79.34537173 66.5892576c5.44182827 4.54460907 6.144 12.65859093 1.57988587 18.1004192z" fill="#d81e06" ></path></symbol><symbol id="icon-fangda" viewBox="0 0 1024 1024"><path d="M752 473.33333333a300 300 0 1 0-300 300 300 300 0 0 0 300-300z m60 0A360 360 0 1 1 452 113.33333333a360 360 0 0 1 360 360z" fill="#515151" ></path><path d="M670.7 734.63333333a30 30 0 0 1 42.6-42.6l150 150a30 30 0 0 1-42.6 42.6zM332 503.33333333a30 30 0 0 1 0-60h240a30 30 0 0 1 0 60z" fill="#515151" ></path><path d="M482 593.33333333a30 30 0 0 1-60 0V353.33333333a30 30 0 0 1 60 0z" fill="#515151" ></path></symbol><symbol id="icon-zoomOut" viewBox="0 0 1024 1024"><path d="M622.88 444.32H342.56c-15.36 0-27.84 13.44-27.84 29.76 0 16.8 12.48 30.24 27.84 30.24h280.32c15.36 0 27.84-13.44 27.84-29.76 0-16.32-12.48-29.76-27.84-30.24z" fill="#515151" ></path><path d="M903.2 857.6l-155.04-155.04 2.4-2.88c53.28-62.88 82.08-143.04 82.08-225.12 0-192.96-156.96-350.4-350.4-350.4-192.96 0-350.4 156.96-350.4 350.4 0 192.96 156.96 350.4 350.4 350.4 79.68 0 157.92-27.84 219.84-78.24l2.88-2.4 155.52 155.52c6.24 6.24 14.4 9.12 22.08 8.64h0.96c15.36 0 27.84-12.48 27.84-27.84v-0.48c0.96-8.16-1.92-16.32-8.16-22.56z m-420.48-92.16c-160.32 0-290.88-130.56-290.88-290.88 0-160.32 130.56-290.88 290.88-290.88 160.32 0 290.88 130.56 290.88 290.88 0 160.32-130.56 290.88-290.88 290.88z" fill="#515151" ></path></symbol><symbol id="icon-caijian1" viewBox="0 0 1024 1024"><path d="M874.54882787 841.589844h-32.95898387v32.95898387a32.95898463 32.95898463 0 0 1-65.91796925 0v-32.95898387H314.24609375a131.83593775 131.83593775 0 0 1-131.83593775-131.83593775V248.32812525H149.45117213a32.95898463 32.95898463 0 0 1 0-65.91796925h32.95898387V149.45117213a32.95898463 32.95898463 0 0 1 65.91796925 0v32.95898387h362.54882788a32.95898463 32.95898463 0 0 1 0 65.91796925H248.32812525v461.425781c0 5.86669947 1.02172877 11.43676732 2.43896459 16.84204127L792.90942383 184.48657201C806.91699193 170.47900391 828.70288086 169.52319361 841.589844 182.410156s11.93115209 34.67285131-2.07641601 48.68042017L297.40405248 773.23291016c5.40527318 1.41723658 10.9753418 2.43896459 16.84204127 2.43896459h461.425781V446.0820315a32.95898463 32.95898463 0 0 1 65.91796925 0v329.58984325h32.95898387a32.95898463 32.95898463 0 0 1 0 65.91796925z" fill="#515151" ></path></symbol><symbol id="icon-chehui" viewBox="0 0 1024 1024"><path d="M237.303467 377.216l113.152 106.026667c16.584533 16.763733 33.6512 43.933867 17.066666 60.693333-16.597333 16.759467-39.227733 16.759467-55.816533 0L138.368 368.3968c-13.162667-13.2608-14.122667-34.491733-0.96-47.752533l174.301867-178.2784c16.5888-16.759467 39.223467-16.759467 55.812266 0s-0.477867 43.933867-17.066666 60.689066L238.775467 313.216h380.881066c153.211733 0 276.343467 132.881067 276.343467 285.738667 0 152.853333-123.136 298.845867-276.343467 298.845866H213.457067c-23.317333 0-42.88-10.824533-42.88-34.133333 0-23.313067 19.562667-29.870933 42.88-29.870933h402.816c102.762667 0 215.714133-132.322133 215.714133-234.845867s-112.951467-221.725867-215.714133-221.725867H237.303467z" fill="#515151" ></path></symbol><symbol id="icon-baocun" viewBox="0 0 1024 1024"><path d="M632.36 128a96 96 0 0 1 68.25 28.5l167.64 169.41a96 96 0 0 1 27.75 67.53V836a60 60 0 0 1-60 60H188a60 60 0 0 1-60-60V188a60 60 0 0 1 60-60h444.36z m0 60H188v648h132v-257.49V574.01a30 30 0 0 1 30-30h324a30 30 0 0 1 30 30v3.99l-0.03 0.51V836H836V393.44a36 36 0 0 0-7.74-22.29l-2.67-3.03-167.64-169.44a36 36 0 0 0-25.59-10.68z m7.62 420h-255.99v228h255.99v-228zM386 302c3.3 0 6 2.7 6 6v48a6 6 0 0 1-6 6H278a6 6 0 0 1-6-6V308c0-3.3 2.7-6 6-6h108z" fill="#515151" ></path></symbol><symbol id="icon-wenzi" viewBox="0 0 1024 1024"><path d="M783.93422832 890.45170948h-6.48280459c-19.75510635 0-37.43082158-12.27577675-44.32914492-30.7879251l-54.26021162-145.60857774c-6.89832334-18.51214834-24.57313945-30.78792598-44.32914492-30.78792597H385.72291602c-20.08158487 0-37.97495333 12.67870342-44.63223927 31.6252582l-50.57271211 143.9348124c-6.65728594 18.94655391-24.5506544 31.6252582-44.63223925 31.62525821h-5.81905459c-33.13263604 0-56.00143125-33.18120352-44.20862666-64.14450997L448.09922481 164.01333536c6.9873627-18.34576172 24.57763594-30.46954131 44.20862665-30.46954219h39.38429708c19.63098984 0 37.22216308 12.12378047 44.20862666 30.46954219l252.24118066 662.29386415c11.79370372 30.96330644-11.07509151 64.14450997-44.20772753 64.14450996zM496.36410137 283.06831572L405.81709209 534.41460283c-11.10656953 30.82929785 11.73794151 63.34045489 44.50722363 63.34045488h119.2474503c32.82414521 0 55.6722545-32.61188935 44.46225527-63.46277226L522.75041123 283.06831572a29.02332217 29.02332217 0 0 1-0.1591919-0.45958887c-4.35214951-12.86937422-22.5908833-12.63013682-26.22711797 0.45958888z" fill="#515151" ></path><path d="M783.9333292 904.61530654h-6.48550283c-25.5282917 0-48.66420586-16.0765998-57.58435811-40.00757431L665.58436982 718.99555713c-4.79824717-12.89545664-17.28627979-21.56647763-31.04605107-21.56647763H385.7274125c-14.05027354 0-26.62105078 8.90576191-31.28079112 22.16097422l-50.57271211 143.93211415c-8.62964912 24.57403857-31.93105078 41.09313867-57.98458651 41.09313867h-5.82175284a61.47152227 61.47152227 0 0 1-50.6140831-26.59316923 61.45353458 61.45353458 0 0 1-6.83176817-56.75422061L434.86199932 158.9695543C443.87838653 135.29400664 466.9594376 119.38379346 492.30785146 119.38379346h39.38519708c25.34841387 0 48.42946494 15.91021318 57.44585126 39.58576084L841.37918135 821.2679167a61.45353458 61.45353458 0 0 1-6.83176817 56.7542206 61.47152227 61.47152227 0 0 1-50.61408398 26.59316924zM385.7274125 669.10728096h248.81180625c25.5282917 0 48.67769619 16.0765998 57.58435723 40.00038047l54.27909931 145.61217422c4.79914628 12.90265224 17.28627979 21.57367325 31.0460502 21.57367323h6.48550284c11.06339941 0 21.02054766-5.22725625 27.29829198-14.34077666 6.27864346-9.10632568 7.61963378-20.26685918 3.67850567-30.60355078L562.66894619 169.05081992c-4.85400937-12.77134102-17.31416133-21.34522792-30.97679765-21.34522792h-39.38519708c-13.66263633 0-26.12278916 8.57388692-30.97679765 21.34522792L209.08897402 831.34918145c-3.94112813 10.33759073-2.60013691 21.4972251 3.67850567 30.60355078 6.27864346 9.11352129 16.23489258 14.34077666 27.29829199 14.34077665h5.82175283c14.05027354 0 26.60666045-8.90576191 31.26730078-22.15377948L327.72843652 710.1932249c8.64314033-24.57403857 31.95893144-41.08594394 57.99897598-41.08594394z m183.84255528-57.1895253H450.32251748c-19.99704199 0-38.79069961-9.76288096-50.28220899-26.12278828-11.50589883-16.36710293-14.31289599-37.36606553-7.53689003-56.18040996l90.53891454-251.34179062c3.05612754-11.15963349 13.78765195-19.333292 26.38541075-19.333292 12.2110207 0 22.63765166 7.50900849 26.57967891 19.1255335L627.33330371 529.45536553c6.84525849 18.82153916 4.07963408 39.85557802-7.41277353 56.26315371-11.49150849 16.40128008-30.31214854 26.1992373-50.35056241 26.19923643z m-60.04598906-323.75079668L419.13796045 539.21195c-3.70638721 10.29531973-2.22689003 21.3380332 4.06614288 30.29955732 6.29213379 8.94713379 16.18003037 14.08445068 27.11841415 14.08445069h119.2474503c10.96626445 0 20.85416104-5.15170723 27.14629482-14.12672256 6.29213379-8.98221006 7.74464942-20.03841386 4.01038066-30.34092832L509.52397872 288.16695898z m-0.09623497-15.06658535l-0.01349033 14.16089883h0.02788066l-0.01439033-14.16089883z" fill="#515151" ></path></symbol><symbol id="icon-nishizhenxuanzhuan" viewBox="0 0 1024 1024"><path d="M924.8 337.6c-22.6-53.4-54.9-101.3-96-142.4s-89-73.4-142.4-96C631.1 75.9 572.5 64 512 64S392.9 75.9 337.6 99.2c-53.4 22.6-101.3 54.9-142.4 96-22.4 22.4-42.2 46.8-59.2 73.1V228c0-19.8-16.2-36-36-36s-36 16.2-36 36v288c0 19.8 16.2 36 36 36s36-16.2 36-36v-50.2c4.2-34.8 13.2-68.7 27-101.2 19.1-45.1 46.4-85.6 81.2-120.4C279 209.4 319.5 182 364.6 163c46.7-19.7 96.3-29.8 147.4-29.8 51.2 0 100.8 10 147.4 29.8 45.1 19.1 85.6 46.4 120.4 81.2C814.6 279 842 319.5 861 364.6c19.7 46.7 29.8 96.3 29.8 147.4 0 51.2-10 100.8-29.8 147.4-19.1 45.1-46.4 85.6-81.2 120.4C745 814.6 704.5 842 659.4 861c-46.7 19.7-96.3 29.8-147.4 29.8-64.6 0-128.4-16.5-184.4-47.8-54.4-30.4-100.9-74.1-134.6-126.6-10.3-16.1-31.7-20.8-47.8-10.4-16.1 10.3-20.8 31.7-10.4 47.8 39.8 62 94.8 113.7 159.1 149.6 66.2 37 141.7 56.6 218.1 56.6 60.5 0 119.1-11.9 174.4-35.2 53.4-22.6 101.3-54.9 142.4-96 41.1-41.1 73.4-89 96-142.4C948.1 631.1 960 572.5 960 512s-11.9-119.1-35.2-174.4z" fill="#515151" ></path><path d="M275.4 575.5c9.5-2.5 19.1 2.9 22.3 12.2 3.5 10.2 9.9 17.7 19.1 22.6 7.1 3.9 15.1 5.8 24 5.8 16.6 0 30.8-6.9 42.5-20.8 11.7-13.8 20-32.7 24.9-75.1-7.7 12.2-17.3 20.8-28.7 25.8-11.4 5-23.7 7.4-36.8 7.4-26.7 0-47.7-8.3-63.3-24.9-15.5-16.6-23.3-37.9-23.3-64.1 0-25.1 7.7-47.1 23-66.2 15.3-19 37.9-28.6 67.8-28.6 40.3 0 68.1 18.1 83.4 54.4 8.5 19.9 12.7 44.9 12.7 74.9 0 33.8-5.1 63.8-15.3 89.9-16.9 43.5-45.5 65.2-85.8 65.2-27 0-47.6-7.1-61.6-21.2-10-10.1-16.4-22-19.3-35.8-2-9.6 4-19.1 13.5-21.6l0.9 0.1z m103-74.4c9.4-7.5 14.1-20.6 14.1-39.3 0-16.8-4.2-29.3-12.7-37.5S360.6 412 347.5 412c-14 0-25.2 4.7-33.4 14.1-8.2 9.4-12.4 22-12.4 37.7 0 14.9 3.6 26.7 10.9 35.5 7.2 8.8 18.8 13.1 34.6 13.1 11.4 0 21.8-3.8 31.2-11.3zM646.6 414.4c12.4 22.8 18.5 54 18.5 93.7 0 37.6-5.6 68.7-16.8 93.3-16.2 35.3-42.8 52.9-79.6 52.9-33.2 0-57.9-14.4-74.2-43.3-13.5-24.1-20.3-56.4-20.3-97 0-31.4 4.1-58.4 12.2-80.9 15.2-42 42.7-63 82.5-63 35.9 0 61.8 14.8 77.7 44.3z m-40.2 173.3c9.4-13.9 14-39.9 14-78 0-27.4-3.4-50-10.1-67.7-6.8-17.7-19.9-26.6-39.4-26.6-17.9 0-31 8.4-39.3 25.2-8.3 16.8-12.4 41.6-12.4 74.3 0 24.6 2.6 44.4 7.9 59.4 8.1 22.8 22 34.3 41.6 34.3 15.7 0 28.3-7 37.7-20.9zM803.3 387.2c11.2 11.3 16.8 25 16.8 41.2 0 16.7-5.8 30.7-17.5 41.8C791 481.4 777.4 487 762 487c-17.1 0-31.2-5.8-42.1-17.4-10.9-11.6-16.4-25.1-16.4-40.6 0-16.5 5.8-30.4 17.3-41.7 11.5-11.3 25.3-17 41.2-17 16.3 0 30.1 5.7 41.3 16.9zM739.5 451c6.2 6.2 13.7 9.3 22.5 9.3 8.4 0 15.8-3.1 22.1-9.3 6.3-6.2 9.4-13.7 9.4-22.6 0-8.5-3.1-15.9-9.3-22.1-6.2-6.2-13.6-9.3-22.2-9.3s-16.1 3.1-22.4 9.3c-6.3 6.2-9.4 13.7-9.4 22.6-0.1 8.4 3 15.8 9.3 22.1z" fill="#515151" ></path></symbol><symbol id="icon-shunshizhenxuanzhuan" viewBox="0 0 1024 1024"><path d="M1464.3 279.7" fill="#515151" ></path><path d="M512 960c-60.5 0-119.1-11.9-174.4-35.2-53.4-22.6-101.3-54.9-142.4-96s-73.4-89-96-142.4C75.9 631.1 64 572.5 64 512s11.9-119.1 35.2-174.4c22.6-53.4 54.9-101.3 96-142.4s89-73.4 142.4-96C392.9 75.9 451.5 64 512 64s119.1 11.9 174.4 35.2c53.4 22.6 101.3 54.9 142.4 96s73.4 89 96 142.4C948.1 392.9 960 451.5 960 512c0 19.1-15.5 34.6-34.6 34.6s-34.6-15.5-34.6-34.6c0-51.2-10-100.8-29.8-147.4-19.1-45.1-46.4-85.6-81.2-120.4C745 209.4 704.5 182 659.4 163c-46.7-19.7-96.3-29.8-147.4-29.8-51.2 0-100.8 10-147.4 29.8-45.1 19.1-85.6 46.4-120.4 81.2S182 319.5 163 364.6c-19.7 46.7-29.8 96.3-29.8 147.4 0 51.2 10 100.8 29.8 147.4 19.1 45.1 46.4 85.6 81.2 120.4C279 814.6 319.5 842 364.6 861c46.7 19.7 96.3 29.8 147.4 29.8 64.6 0 128.4-16.5 184.4-47.8 54.4-30.4 100.9-74.1 134.6-126.6 10.3-16.1 31.7-20.8 47.8-10.4 16.1 10.3 20.8 31.7 10.4 47.8-39.8 62-94.8 113.7-159.1 149.6-66.2 37-141.7 56.6-218.1 56.6z" fill="#515151" ></path><path d="M924 552c-19.8 0-36-16.2-36-36V228c0-19.8 16.2-36 36-36s36 16.2 36 36v288c0 19.8-16.2 36-36 36zM275.4 575.5c9.5-2.5 19.1 2.9 22.3 12.2 3.5 10.2 9.9 17.7 19.1 22.6 7.1 3.9 15.1 5.8 24 5.8 16.6 0 30.8-6.9 42.5-20.8 11.7-13.8 20-32.7 24.9-75.1-7.7 12.2-17.3 20.8-28.7 25.8-11.4 5-23.7 7.4-36.8 7.4-26.7 0-47.7-8.3-63.3-24.9-15.5-16.6-23.3-37.9-23.3-64.1 0-25.1 7.7-47.1 23-66.2 15.3-19 37.9-28.6 67.8-28.6 40.3 0 68.1 18.1 83.4 54.4 8.5 19.9 12.7 44.9 12.7 74.9 0 33.8-5.1 63.8-15.3 89.9-16.9 43.5-45.5 65.2-85.8 65.2-27 0-47.6-7.1-61.6-21.2-10-10.1-16.4-22-19.3-35.8-2-9.6 4-19.1 13.5-21.6l0.9 0.1z m103-74.4c9.4-7.5 14.1-20.6 14.1-39.3 0-16.8-4.2-29.3-12.7-37.5S360.6 412 347.5 412c-14 0-25.2 4.7-33.4 14.1-8.2 9.4-12.4 22-12.4 37.7 0 14.9 3.6 26.7 10.9 35.5 7.2 8.8 18.8 13.1 34.6 13.1 11.4 0 21.8-3.8 31.2-11.3zM646.6 414.4c12.4 22.8 18.5 54 18.5 93.7 0 37.6-5.6 68.7-16.8 93.3-16.2 35.3-42.8 52.9-79.6 52.9-33.2 0-57.9-14.4-74.2-43.3-13.5-24.1-20.3-56.4-20.3-97 0-31.4 4.1-58.4 12.2-80.9 15.2-42 42.7-63 82.5-63 35.9 0 61.8 14.8 77.7 44.3z m-40.2 173.3c9.4-13.9 14-39.9 14-78 0-27.4-3.4-50-10.1-67.7-6.8-17.7-19.9-26.6-39.4-26.6-17.9 0-31 8.4-39.3 25.2-8.3 16.8-12.4 41.6-12.4 74.3 0 24.6 2.6 44.4 7.9 59.4 8.1 22.8 22 34.3 41.6 34.3 15.7 0 28.3-7 37.7-20.9zM803.3 387.2c11.2 11.3 16.8 25 16.8 41.2 0 16.7-5.8 30.7-17.5 41.8C791 481.4 777.4 487 762 487c-17.1 0-31.2-5.8-42.1-17.4-10.9-11.6-16.4-25.1-16.4-40.6 0-16.5 5.8-30.4 17.3-41.7 11.5-11.3 25.3-17 41.2-17 16.3 0 30.1 5.7 41.3 16.9zM739.5 451c6.2 6.2 13.7 9.3 22.5 9.3 8.4 0 15.8-3.1 22.1-9.3 6.3-6.2 9.4-13.7 9.4-22.6 0-8.5-3.1-15.9-9.3-22.1-6.2-6.2-13.6-9.3-22.2-9.3s-16.1 3.1-22.4 9.3c-6.3 6.2-9.4 13.7-9.4 22.6-0.1 8.4 3 15.8 9.3 22.1z" fill="#515151" ></path></symbol><symbol id="icon-huabi" viewBox="0 0 1024 1024"><path d="M258.56 916.48c-30.72 0-64-5.12-92.16-15.36-64-23.04-97.28-69.12-99.84-128-2.56-89.6 66.56-120.32 120.32-143.36 51.2-23.04 79.36-35.84 79.36-74.24 0-46.08-79.36-84.48-112.64-89.6-12.8-5.12-20.48-17.92-20.48-30.72 2.56-12.8 15.36-23.04 28.16-20.48 46.08 7.68 156.16 56.32 156.16 140.8 0 74.24-61.44 99.84-110.08 120.32-56.32 25.6-92.16 43.52-89.6 97.28 0 38.4 23.04 66.56 64 81.92 66.56 25.6 166.4 7.68 192-23.04 10.24-10.24 25.6-12.8 35.84-2.56 10.24 10.24 12.8 25.6 2.56 35.84-25.6 30.72-89.6 51.2-153.6 51.2z" fill="#515151" ></path><path d="M435.2 757.76c-5.12 5.12 2.56 17.92 12.8 25.6s23.04 10.24 28.16 5.12l107.52-81.92-102.4-74.24-46.08 125.44zM929.28 120.32c-28.16-20.48-69.12-15.36-89.6 15.36L509.44 591.36l102.4 74.24 332.8-455.68c20.48-28.16 12.8-69.12-15.36-89.6z" fill="#515151" ></path></symbol><symbol id="icon-bianji" viewBox="0 0 1024 1024"><path d="M831.9865625 549.0903125c0-17.671875 14.325-31.99875 31.9978125-31.99875s31.99875 14.325 31.99875 31.99875V783.96875c0 61.1465625-45.7640625 111.995625-103.995 111.995625H216.0115625c-58.23 0-103.995-50.85-103.995-111.995625V223.9915625c0-61.1446875 45.765-111.995625 103.995-111.995625H468.715625c17.671875 0 31.9996875 14.3259375 31.9996875 31.9996875s-14.3259375 31.99875-31.9996875 31.99875H216.0125c-21.2953125 0-39.9984375 20.7815625-39.9984375 47.998125V783.96875c0 27.2165625 18.703125 47.998125 39.9975 47.998125h575.9765625c21.294375 0 39.9984375-20.7815625 39.9984375-47.998125V549.0903125z m-284.071875-3.8521875c-11.7403125 13.209375-31.9659375 14.398125-45.174375 2.6578125s-14.398125-31.966875-2.6578125-45.174375l319.9875-359.9859375c11.739375-13.2084375 31.9659375-14.398125 45.174375-2.656875s14.3971875 31.9659375 2.656875 45.174375L547.915625 545.238125z" fill="#515151" ></path></symbol></svg>',d=(d=document.getElementsByTagName("script"))[d.length-1].getAttribute("data-injectcss");if(d&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}function a(){c||(c=!0,h())}e=function(){var t,e,i,h;(h=document.createElement("div")).innerHTML=r,r=null,(i=h.getElementsByTagName("svg")[0])&&(i.setAttribute("aria-hidden","true"),i.style.position="absolute",i.style.width=0,i.style.height=0,i.style.overflow="hidden",t=i,(e=document.body).firstChild?(h=t,(i=e.firstChild).parentNode.insertBefore(h,i)):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),e()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(h=e,s=t.document,c=!1,(o=function(){try{s.documentElement.doScroll("left")}catch(t){return void setTimeout(o,50)}a()})(),s.onreadystatechange=function(){"complete"==s.readyState&&(s.onreadystatechange=null,a())})}(window)},8875:function(t,e,i){var h,s,c;(function(i,o){s=[],h=o,c="function"===typeof h?h.apply(e,s):h,void 0===c||(t.exports=c)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(m){var i,h,s,c=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,r=c.exec(m.stack)||o.exec(m.stack),d=r&&r[1]||!1,a=r&&r[2]||!1,n=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");d===n&&(i=document.documentElement.outerHTML,h=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=i.replace(h,"$1").trim());for(var u=0;u<l.length;u++){if("interactive"===l[u].readyState)return l[u];if(l[u].src===d)return l[u];if(d===n&&l[u].innerHTML&&l[u].innerHTML.trim()===s)return l[u]}return null}}return t}))},"8bbf":function(e,i){e.exports=t},"9a9b":function(t,e,i){"use strict";i("31fc")},a07f:function(t,e,i){},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var h=window.document.currentScript,s=i("8875");h=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var c=h&&h.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(i.p=c[1])}var o=i("8bbf");const r=Object(o["withScopeId"])("data-v-0ffcbb06");Object(o["pushScopeId"])("data-v-0ffcbb06");const d={class:"i_modal"},a={class:"canvas_container"},n={class:"img_container"},l=Object(o["createVNode"])("div",{class:"pre_title"},"原图",-1),u=Object(o["createStaticVNode"])('<div id="cut_content" data-v-0ffcbb06></div><div id="cut_left" data-v-0ffcbb06></div><div id="cut_right" data-v-0ffcbb06></div><div id="cut_top" data-v-0ffcbb06></div><div id="cut_bottom" data-v-0ffcbb06></div><div id="border_left" data-v-0ffcbb06></div><div id="border_right" data-v-0ffcbb06></div><div id="border_top" data-v-0ffcbb06></div><div id="border_bottom" data-v-0ffcbb06></div><div id="border_lt" data-v-0ffcbb06></div><div id="border_rt" data-v-0ffcbb06></div><div id="border_lb" data-v-0ffcbb06></div><div id="border_rb" data-v-0ffcbb06></div>',13),m={id:"cut_size"},b={class:"pre_img"},p=Object(o["createVNode"])("div",{class:"pre_title"}," 效果图 ",-1),g={class:"acts"},f=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-nishizhenxuanzhuan"})],-1),v=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-shunshizhenxuanzhuan"})],-1),y=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-fangda"})],-1),x=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-zoomOut"})],-1),k=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-caijian1"})],-1),w=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-huabi"})],-1),W=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-chehui"})],-1),S=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-yulan"})],-1),C={key:0,class:"icon","aria-hidden":"true"},H=Object(o["createVNode"])("use",{"xlink:href":"#icon-baocun"},null,-1),z={key:1,class:"icon loading","aria-hidden":"true"},j=Object(o["createVNode"])("use",{"xlink:href":"#icon-jiazai"},null,-1),O=Object(o["createVNode"])("svg",{class:"icon","aria-hidden":"true"},[Object(o["createVNode"])("use",{"xlink:href":"#icon-guanbi"})],-1),_=Object(o["createVNode"])("div",{class:"modal_bg"},null,-1);Object(o["popScopeId"])();const V=r((t,e,i,h,s,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])(o["Transition"],{onAfterEnter:c.afterEnter,onAfterLeave:c.afterLeave},{default:r(()=>[Object(o["withDirectives"])(Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[l,Object(o["createVNode"])("canvas",{id:"canvas",width:s.scopeX,height:s.scopeY,style:{border:"1px dashed #ddd"},class:[s.scrawl?"scrawl":""]},null,10,["width","height"]),Object(o["withDirectives"])(Object(o["createVNode"])("div",{id:"cut_area",style:{width:s.sketchWidth+"px",height:s.sketchHeight+"px"}},[u,Object(o["createVNode"])("div",m,Object(o["toDisplayString"])(s.cutWidth+2*s.borderWidth)+" × "+Object(o["toDisplayString"])(s.cutHeight+2*s.borderWidth),1)],4),[[o["vShow"],s.canCut]])]),Object(o["createVNode"])("canvas",{id:"sketch",width:c.skecthDrawWidth,height:c.skecthDrawHeight,style:{border:"1px dashed #ddd"}},null,8,["width","height"]),Object(o["createVNode"])("div",b,[p,s.endImage?(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:0,style:c.aimStyle,src:s.endImage,alt:""},null,12,["src"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])("div",g,[Object(o["createVNode"])("div",{class:"act_btn",onClick:e[1]||(e[1]=t=>c.handleRotate(!1))},[f]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[2]||(e[2]=t=>c.handleRotate(!0))},[v]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[3]||(e[3]=t=>c.handleScale(!0))},[y]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[4]||(e[4]=t=>c.handleScale(!1))},[x]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[5]||(e[5]=(...t)=>c.toggleCut&&c.toggleCut(...t))},[k]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[6]||(e[6]=(...t)=>c.toggleGraffiti&&c.toggleGraffiti(...t))},[w]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[7]||(e[7]=(...t)=>c.reset&&c.reset(...t))},[W]),Object(o["createVNode"])("div",{class:"act_btn",onClick:e[8]||(e[8]=(...t)=>c.canvasToUrl&&c.canvasToUrl(...t))},[S]),Object(o["createVNode"])("div",{class:[s.endImage?"act_btn":"disabled"],onClick:e[9]||(e[9]=(...t)=>c.handleSave&&c.handleSave(...t))},[i.saving?(Object(o["openBlock"])(),Object(o["createBlock"])("svg",z,[j])):(Object(o["openBlock"])(),Object(o["createBlock"])("svg",C,[H]))],2)]),Object(o["createVNode"])("div",{class:"modal_close",onClick:e[10]||(e[10]=(...t)=>c.handleClose&&c.handleClose(...t))},[O]),_],512),[[o["vShow"],i.visible]])]),_:1},8,["onAfterEnter","onAfterLeave"])));i("a07f"),i("6f06"),i.p;const M=(t,e,i,h)=>{let s,c;if(t>=i)e>=h?(s=i,c=h):(c=e,s=c*i/h);else if(e<h){let o=h*t/i;o>e?(c=e,s=c*i/h):(s=t,c=s*h/i)}else s=t,c=s*h/i;return{x:s,y:c}};let B=void 0,X=void 0;var Y={name:"ImageViewer",props:{imgUrl:{type:String,default:""},visible:{type:Boolean,default:!1},appendToBody:{type:Boolean,default:!0},saving:{type:Boolean,default:!1}},data(){return{center:{x:0,y:0},endImage:"",sketchWidth:0,sketchHeight:0,direction:1,scale:1,minWidth:1e3,scopeX:0,scopeY:0,canCut:!1,originSize:50,initCut:!1,cutStartX:0,cutStartY:0,beforeCutStartX:0,beforeCutStartY:0,cutWidth:100,cutHeight:100,startCut:!1,startDom:{x:0,y:0},borderWidth:10,scrawl:!1,maxHeight:0,maxWidth:0}},watch:{visible(t){t&&this.appendToBody&&document.body.appendChild(this.$el)}},computed:{skecthDrawWidth:function(){return this.canCut?this.cutWidth+2*this.borderWidth:this.sketchWidth},skecthDrawHeight:function(){return this.canCut?this.cutHeight+2*this.borderWidth:this.sketchHeight},aimStyle:function(){let t=this.scopeX,e=this.scopeY;this.canCut&&(t=this.cutWidth+2*this.borderWidth,e=this.cutHeight+2*this.borderWidth);let i=M(this.maxWidth,this.maxHeight,t,e);return{width:i.x+"px",height:i.y+"px"}}},mounted(){this.maxHeight=document.body.clientHeight-175,this.maxWidth=(document.body.clientWidth-40)/2,document.onmouseup=()=>document.onmousemove=null,X=document.getElementById("canvas"),B=X.getContext("2d"),B.lineWidth=1,this.reset()},methods:{afterEnter(){this.$emit("opened")},afterLeave(){this.$emit("closed")},handleClose(){this.$emit("closed")},handleSave(){this.endImage&&this.$emit("save",this.endImage)},moveCenter(t=0,e=0,i=!1){i&&(this.center={x:0,y:0}),B.translate(t,e),this.center.x+=t,this.center.y+=e},computedSize(t={}){let e=t.width,i=t.height;this.direction%2||(e=t.height,i=t.width);let h=M(this.maxWidth,this.maxHeight,e,i);return this.scopeX=h.x,this.scopeY=h.y,{width:this.scopeX,height:this.scopeY}},handleRotate(t=!0){this.endImage="",this.canCut=!1,t?this.direction<4?this.direction+=1:this.direction=1:1===this.direction?this.direction=4:this.direction-=1,B.clearRect(-this.scopeX,-this.scopeY,2*this.scopeX,2*this.scopeY);let e=new Image;e.setAttribute("crossOrigin","anonymous"),e.src=this.imgUrl,e.addEventListener("load",()=>{this.moveCenter(-this.scopeX/2,-this.scopeY/2);let t=this.computedSize(e);this.$nextTick(()=>{this.sketchWidth=this.scopeX,this.sketchHeight=this.scopeY,this.moveCenter(this.scopeX/2,this.scopeY/2),B.rotate(-90*(5-this.direction)*Math.PI/180),B.drawImage(e,this.direction%2?-t.width/2:-t.height/2,this.direction%2?-t.height/2:-t.width/2,this.direction%2?t.width:t.height,this.direction%2?t.height:t.width),this.showCenter()})})},handleScale(t=!0){this.endImage="",this.canCut=!1;let e=t?1.2:5/6;this.scale=this.scale*(t?1.2:5/6),B.clearRect(-this.scopeX,-this.scopeY,2*this.scopeX,2*this.scopeY),B.scale(e,e);let i=new Image;i.src=this.imgUrl,i.setAttribute("crossOrigin","anonymous"),i.addEventListener("load",()=>{let t=this.computedSize(i);this.sketchWidth=t.width*(this.scale>1?1:this.scale),this.sketchHeight=t.height*(this.scale>1?1:this.scale),this.$nextTick(()=>{B.drawImage(i,this.direction%2?-t.width/2:-t.height/2,this.direction%2?-t.height/2:-t.width/2,this.direction%2?t.width:t.height,this.direction%2?t.height:t.width),this.showCenter()})})},reset(){this.endImage="",this.canCut=!1,this.scrawl=!1,X.removeEventListener("mousedown",this.DrawLine),this.cutStartX=-this.cutWidth/2,this.cutStartY=-this.cutHeight/2,this.sketchWidth=0,this.sketchHeight=0,B.lineWidth=1,B.clearRect(-this.scopeX,-this.scopeY,2*this.scopeX,2*this.scopeY);let t=new Image;t.setAttribute("crossOrigin","anonymous"),t.src=this.imgUrl,t.addEventListener("load",()=>{this.moveCenter(-this.scopeX/2,-this.scopeY/2);let e=this.computedSize(t);this.direction%2?this.$nextTick(()=>{this.moveCenter(this.scopeX/2,this.scopeY/2),B.scale(1/this.scale,1/this.scale),B.rotate(90*(5-this.direction)*Math.PI/180),this.sketchWidth=e.width,this.sketchHeight=e.height,B.drawImage(t,-this.scopeX/2,-this.scopeY/2,this.sketchWidth,this.sketchHeight),this.showCenter(),this.direction=1,this.scale=1}):(this.scopeX=e.height,this.scopeY=e.width,this.$nextTick(()=>{this.moveCenter(this.scopeX/2,this.scopeY/2),this.sketchWidth=e.height,this.sketchHeight=e.width,B.drawImage(t,-this.scopeX/2,-this.scopeY/2,this.sketchWidth,this.sketchHeight),this.showCenter(),this.direction=1,this.scale=1}))})},showCenter(){},toggleCut(){this.endImage="",this.canCut||(this.canCut=!0,this.initCut=!1,this.cutWidth=100,this.cutHeight=100,this.startDom={x:0,y:0},this.cutStartX=this.cutWidth<this.sketchWidth?-this.cutWidth/2:-this.sketchWidth/2,this.cutStartY=this.cutHeight<this.sketchHeight?-this.cutHeight/2:-this.sketchHeight/2,this.readyMoveCutArea())},readyMoveCutArea(){let t=document.getElementById("cut_content");this.beforeCutStartX=this.cutStartX,this.beforeCutStartY=this.cutStartY,this.moveCutArea(),t.onmousedown=e=>{this.startDom={x:e.x,y:e.y},this.beforeCutStartX=this.cutStartX,this.beforeCutStartY=this.cutStartY,this.initCut=!0,document.onmousemove=t=>{t.preventDefault(),this.moveCutArea(t)},t.onmouseup=()=>{document.onmousemove=null}}},moveCutArea(t={x:0,y:0},e=this.startDom){let i=t.x-e.x,h=t.y-e.y,s=this.beforeCutStartX+i,c=this.beforeCutStartY+h,o=this.sketchWidth/2-this.cutWidth-this.borderWidth,r=this.sketchHeight/2-this.cutHeight-this.borderWidth,d=-this.sketchWidth/2+this.borderWidth,a=-this.sketchHeight/2+this.borderWidth;o<s&&(s=o),d>s&&(s=d),r<c&&(c=r),a>c&&(c=a),this.cutStartX=s,this.cutStartY=c,this.changeCutArea()},changeCutArea(){let t=document.getElementById("cut_content");this.setStyle(t,{border:"1px solid white",width:this.cutWidth+2*this.borderWidth+"px",height:this.cutHeight+2*this.borderWidth+"px",top:Math.abs(this.sketchHeight/2+this.cutStartY)-this.borderWidth-1+"px",left:Math.abs(this.cutStartX+this.sketchWidth/2)-this.borderWidth-1+"px",cursor:"move"}),this.setCutArea()},setBorder(){let t=document.getElementById("border_left"),e=document.getElementById("border_right"),i=document.getElementById("border_top"),h=document.getElementById("border_bottom"),s=document.getElementById("border_lt"),c=document.getElementById("border_rt"),o=document.getElementById("border_lb"),r=document.getElementById("border_rb"),d=document.getElementById("cut_size");this.setStyle(d,{position:"absolute",top:this.cutStartY+this.sketchHeight/2-2*this.borderWidth-12+"px",left:this.cutStartX+this.sketchWidth/2-this.borderWidth+"px",background:"rgba(0,0,0,0.8)",color:"white"}),this.setStyle(t,{width:this.borderWidth+"px",height:this.cutHeight+"px",top:this.cutStartY+this.sketchHeight/2+"px",left:this.cutStartX+this.sketchWidth/2-this.borderWidth+"px",cursor:"w-resize"}),this.setStyle(e,{width:this.borderWidth+"px",height:this.cutHeight+"px",top:this.cutStartY+this.sketchHeight/2+"px",left:this.cutStartX+this.cutWidth+this.sketchWidth/2+"px",cursor:"e-resize"}),this.setStyle(i,{width:this.cutWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2-this.borderWidth+"px",left:this.cutStartX+this.sketchWidth/2+"px",cursor:"n-resize"}),this.setStyle(h,{width:this.cutWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2+this.cutHeight+"px",left:this.cutStartX+this.sketchWidth/2+"px",cursor:"s-resize"}),this.setStyle(s,{width:this.borderWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2-this.borderWidth+"px",left:this.cutStartX+this.sketchWidth/2-this.borderWidth+"px",cursor:"nw-resize"}),this.setStyle(c,{width:this.borderWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2-this.borderWidth+"px",left:this.cutStartX+this.cutWidth+this.sketchWidth/2+"px",cursor:"ne-resize"}),this.setStyle(o,{width:this.borderWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2+this.cutHeight+"px",left:this.cutStartX+this.sketchWidth/2-this.borderWidth+"px",cursor:"sw-resize"}),this.setStyle(r,{width:this.borderWidth+"px",height:this.borderWidth+"px",top:this.cutStartY+this.sketchHeight/2+this.cutHeight+"px",left:this.cutStartX+this.cutWidth+this.sketchWidth/2+"px",cursor:"se-resize"}),t.onmousedown=t=>this.dragBorder(t,"bl"),t.onmouseup=()=>document.onmousemove=null,e.onmousedown=t=>this.dragBorder(t,"br"),e.onmouseup=()=>document.onmousemove=null,i.onmousedown=t=>this.dragBorder(t,"bt"),i.onmouseup=()=>document.onmousemove=null,h.onmousedown=t=>this.dragBorder(t,"bb"),h.onmouseup=()=>document.onmousemove=null,s.onmousedown=t=>this.dragBorder(t,"lt"),s.onmouseup=()=>document.onmousemove=null,c.onmousedown=t=>this.dragBorder(t,"rt"),c.onmouseup=()=>document.onmousemove=null,o.onmousedown=t=>this.dragBorder(t,"lb"),o.onmouseup=()=>document.onmousemove=null,r.onmousedown=t=>this.dragBorder(t,"rb"),r.onmouseup=()=>document.onmousemove=null},dragBorder(t,e){let i=this.cutStartX,h=this.cutStartY,s=this.cutWidth,c=this.cutHeight,o=this.sketchWidth/2-this.borderWidth,r=this.sketchHeight/2-this.borderWidth,d=-this.sketchWidth/2+this.borderWidth,a=-this.sketchHeight/2+this.borderWidth;switch(e){case"bl":document.onmousemove=e=>{let h=e.x-t.x,c=i+h;if(!(c>=d&&c<i+s))return!1;this.cutStartX=i+h,this.cutWidth=s-h,this.changeCutArea()};break;case"br":document.onmousemove=e=>{let h=e.x-t.x;if(!(i+s+h<=o&&s>-h))return!1;this.cutWidth=s+h,this.changeCutArea()};break;case"bt":document.onmousemove=e=>{let i=e.y-t.y,s=h+i;if(!(s<h+c&&s>=a))return!1;this.cutStartY=h+i,this.cutHeight=c-i,this.changeCutArea()};break;case"bb":document.onmousemove=e=>{let i=e.y-t.y;if(!(h+c+i<=r&&c>-i))return!1;this.cutHeight=c+i,this.changeCutArea()};break;case"lt":document.onmousemove=e=>{let o=e.x-t.x,r=e.y-t.y;i+o>=d&&o<s&&(this.cutWidth=s-o,this.cutStartX=i+o),h+r>=a&&r<c&&(this.cutHeight=c-r,this.cutStartY=h+r),this.changeCutArea()};break;case"rt":document.onmousemove=e=>{let r=e.x-t.x,d=e.y-t.y;i+s+r<=o&&s>-r&&(this.cutWidth=s+r),h-d>=a&&-d<c-this.borderWidth&&(this.cutHeight=c-d,this.cutStartY=h+d),this.changeCutArea()};break;case"lb":document.onmousemove=e=>{let o=e.x-t.x,a=e.y-t.y;i+o>=d&&s>o&&(this.cutWidth=s-o,this.cutStartX=i+o),h+c+a<=r&&a>-c&&(this.cutHeight=c+a),this.changeCutArea()};break;case"rb":document.onmousemove=e=>{let d=e.x-t.x,a=e.y-t.y;i+s+d<=o&&s>-d&&(this.cutWidth=s+d),h+c+a<=r&&c>-a&&(this.cutHeight=c+a),this.changeCutArea()};break;default:break}},setCutArea(){this.setBorder();let t=document.getElementById("cut_left"),e=document.getElementById("cut_right"),i=document.getElementById("cut_top"),h=document.getElementById("cut_bottom");t.style.background="rgba(0,0,0,0.3)",e.style.background="rgba(0,0,0,0.3)",i.style.background="rgba(0,0,0,0.3)",h.style.background="rgba(0,0,0,0.3)",this.setStyle(t,{width:Math.abs(this.cutStartX+this.sketchWidth/2)-this.borderWidth+"px",height:this.sketchHeight+"px",top:0}),this.setStyle(e,{width:Math.abs(this.sketchWidth/2-(this.cutStartX+this.cutWidth))-this.borderWidth+"px",height:this.sketchHeight+"px",top:0,right:0}),this.setStyle(i,{width:this.cutWidth+2*this.borderWidth+"px",height:Math.abs(this.sketchHeight/2+this.cutStartY)-this.borderWidth+"px",top:0,left:Math.abs(this.cutStartX+this.sketchWidth/2)-this.borderWidth+"px"}),this.setStyle(h,{width:this.cutWidth+2*this.borderWidth+"px",height:this.sketchHeight-Math.abs(this.sketchHeight/2+this.cutStartY)-this.cutHeight-this.borderWidth+"px",top:Math.abs(this.sketchHeight/2+this.cutStartY)+this.cutHeight+this.borderWidth+"px",left:Math.abs(this.cutStartX+this.sketchWidth/2)-this.borderWidth+"px"})},setStyle(t,e){for(let i in e)t.style[i]=e[i]},toggleGraffiti(){this.canCut=!1,this.scrawl=!this.scrawl,this.scrawl?X.addEventListener("mousedown",this.DrawLine):X.removeEventListener("mousedown",this.DrawLine)},DrawLine(t){B.beginPath();let e=X.getBoundingClientRect(),i=1/this.scale*(t.clientX-e.left-this.center.x),h=1/this.scale*(t.clientY-e.top-this.center.y),s=this.computedDrawLine(i,h);B.moveTo(s.x,s.y),B.strokeStyle="red",X.onmousemove=t=>{let i=1/this.scale*(t.clientX-e.left-this.center.x),h=1/this.scale*(t.clientY-e.top-this.center.y),s=this.computedDrawLine(i,h);B.lineTo(s.x,s.y),B.stroke()},X.onmouseup=()=>{X.onmousemove=null}},computedDrawLine(t,e){let i=t;switch(this.direction){case 1:break;case 2:t=e,e=-i;break;case 3:t=-t,e=-e;break;case 4:t=-e,e=i;break}return{x:t,y:e}},canvasToUrl(){this.endImage="";const t=document.getElementById("sketch"),e=t.getContext("2d");e.clearRect(0,0,this.sketchWidth,this.sketchHeight);let i=0,h=0,s=0,c=0;this.canCut?(i=this.cutStartX-this.borderWidth+this.sketchWidth/2,h=this.cutStartY-this.borderWidth+this.sketchHeight/2,s=this.cutWidth+2*this.borderWidth,c=this.cutHeight+2*this.borderWidth):(this.sketchWidth>this.sketchHeight?(i=0,h=(this.scopeY-this.sketchHeight)/2,this.scale<1&&(i=(this.scopeX-this.sketchWidth)/2)):(i=(this.scopeX-this.sketchWidth)/2,h=0,this.scale<1&&(h=(this.scopeY-this.sketchHeight)/2)),this.scale>1?(s=this.sketchWidth*this.scale,c=this.sketchHeight*this.scale):(s=this.sketchWidth,c=this.sketchHeight)),s=s>this.maxWidth?s:this.maxWidth,c=c>this.maxHeight?c:this.maxHeight;let o=B.getImageData(i,h,s,c);e.putImageData(o,0,0);let r=t.toDataURL("image/png",1);this.endImage=r}}};i("9a9b");Y.render=V,Y.__scopeId="data-v-0ffcbb06";var L=Y;const N=[L],I=function(t){N.forEach(e=>{t.component(e.name,e)})};"undefined"!==typeof window&&window.Vue&&I(window.Vue);var E={version:"2.15.1",install:I,ImageViewer:L};e["default"]=E}})}));
//# sourceMappingURL=image-viewer-editor.umd.min.js.map